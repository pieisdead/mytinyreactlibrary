[{"C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\index.js":"1","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\reportWebVitals.js":"2","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\api\\get.js":"3","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\App.js":"4","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Book.js":"5","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Pagination.js":"6","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Wishlist.js":"7","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Star.js":"8","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\AdvancedSearch.js":"9","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Modal.js":"10","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Spinner.js":"11"},{"size":617,"mtime":1611937614733,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":1609593187342,"results":"14","hashOfConfig":"13"},{"size":2227,"mtime":1613053624336,"results":"15","hashOfConfig":"13"},{"size":6085,"mtime":1612616311952,"results":"16","hashOfConfig":"13"},{"size":1491,"mtime":1612612582072,"results":"17","hashOfConfig":"13"},{"size":345,"mtime":1611762117359,"results":"18","hashOfConfig":"13"},{"size":1381,"mtime":1612045844188,"results":"19","hashOfConfig":"13"},{"size":335,"mtime":1611844174464,"results":"20","hashOfConfig":"13"},{"size":992,"mtime":1612562075387,"results":"21","hashOfConfig":"13"},{"size":2807,"mtime":1612450783120,"results":"22","hashOfConfig":"13"},{"size":840,"mtime":1612478310452,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"xkpa60",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"29"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"55"},"C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\index.js",[],["56","57"],"C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\reportWebVitals.js",[],["58","59"],"C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\api\\get.js",[],"C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\App.js",["60","61","62","63","64","65","66","67"],"import React from 'react';\r\nimport './App.css';\r\n\r\n\r\nimport { getBooks, searchBooks, advancedSearch } from './api/get';\r\nimport Book from './components/Book';\r\nimport Spinner from './components/Spinner';\r\n\r\nimport AdvancedSearch from './components/AdvancedSearch';\r\nimport Modal from './components/Modal';\r\n\r\nconst App = () => {\r\n    \r\n    const [books, setBooks] = React.useState([]);\r\n    const [loadLimit, setLoadLimit] = React.useState(20);\r\n    const [sort, setSort] = React.useState('date_added');\r\n    const [order, setOrder] = React.useState('ASC');\r\n    const [showWishlist, setShowWishlist] = React.useState(false);\r\n    const [searchTerm, setSearchTerm] = React.useState('');\r\n    const [term, setTerm] = React.useState('');\r\n    const [showAdvancedSearch, setShowAdvancedSearch] = React.useState(false);\r\n    const [activeBook, setActiveBook] = React.useState('');\r\n    const [showModal, setShowModal] = React.useState(false);\r\n    const [listLength, setListLength] = React.useState(0);\r\n    const [title, setTitle] = React.useState(false);\r\n    const [author, setAuthor] = React.useState(false);\r\n    const [genre, setGenre] = React.useState(false);\r\n    const [isLoading, setLoading] = React.useState(false);\r\n    \r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n       if (!title && !author && !genre) {\r\n            getBooks(sort, order, searchTerm).then((books) => {\r\n                setBooks(books);\r\n                setListLength(books.length);\r\n                setLoading(false);\r\n            });\r\n       } else {\r\n           if (searchTerm !== '') {\r\n               advancedSearch(searchTerm, title, author, genre).then((books) => {\r\n                   setBooks(books);\r\n                   setListLength(books.length);\r\n                   setLoading(false);\r\n               });\r\n           }\r\n       }\r\n       \r\n    }, [sort, order, searchTerm, title, author, genre]);\r\n\r\n    \r\n    React.useEffect(() => {\r\n        const handleScroll = () => {\r\n            const currentScroll = window.scrollY;\r\n                if (currentScroll >= document.body.offsetHeight - 1000) {\r\n                    if (listLength > loadLimit) {\r\n                        setLoadLimit(loadLimit + 20);\r\n                    }\r\n                }\r\n            }\r\n        \r\n        window.addEventListener('scroll', handleScroll);\r\n    }, [loadLimit, listLength]);\r\n    \r\n    const rows = books.map((book, i) => {\r\n        if (i < loadLimit) {\r\n            return <Book key={i} book={book} openHandler={() => {bookClick(book.uid)}} />;\r\n        }\r\n    });\r\n    \r\n    function handleSortChange(e) {\r\n        setSort(e.target.value);\r\n    }\r\n    \r\n    function handleOrderChange(e) {\r\n        setOrder(e.target.value);\r\n    }\r\n    \r\n    function showHideWishlist() {\r\n        setShowWishlist(wishlist => !wishlist);\r\n        document.getElementById('wishBtn').classList.toggle('active');\r\n    }\r\n    \r\n    function changeSearchTerm(e) {\r\n       setTerm(e.target.value);\r\n        \r\n    }\r\n    \r\n    function handleSearch() {\r\n        setSearchTerm(term);\r\n        setLoadLimit(20);\r\n    }\r\n    \r\n    function handleAdvancedClick(e) {\r\n        setShowAdvancedSearch(showAdvancedSearch => !showAdvancedSearch);\r\n        e.preventDefault();\r\n    }\r\n    \r\n    function bookClick(bid) {\r\n        setActiveBook(bid);\r\n        setShowModal(true);\r\n    }\r\n    \r\n    function closeModal() {\r\n        setShowModal(false);\r\n    }\r\n    \r\n    function showAll(e) {\r\n        setSearchTerm('');\r\n        e.preventDefault();\r\n        setLoadLimit(20);\r\n        setTitle(false);\r\n        setAuthor(false);\r\n        setGenre(false);\r\n    }\r\n    \r\n    function changeAdvanced(e) {\r\n        switch (e.target.name) {\r\n            case 'Title':\r\n                setTitle(e.target.value);\r\n                break;\r\n            case 'Author':\r\n                setAuthor(e.target.value);\r\n                break;\r\n            case 'Genre':\r\n                setGenre(e.target.value);\r\n                break;\r\n        }\r\n    }\r\n    \r\n  return (\r\n    <div className=\"page\">\r\n        <Modal bookId={activeBook} show={showModal} closeHandler={closeModal} />\r\n        <header>\r\n            <section>\r\n                <h1><img src=\"./logo.svg\" width=\"80\" alt=\"MyTinyReactLibrary\" /> MyTiny<strong>REACT</strong>Library</h1>\r\n            </section>\r\n            \r\n        </header>\r\n        <div className=\"search\">\r\n            <h4>Find a book</h4>\r\n            <section>\r\n                <input type=\"text\" placeholder=\"Search books\" onChange={changeSearchTerm} />\r\n                <button className=\"search-button\" onClick={handleSearch}><img src=\"./images/search.svg\" width=\"22\" alt=\"Search\" /></button>\r\n            </section>\r\n            <p><a href=\"#\" onClick={handleAdvancedClick}>Advanced search</a></p>\r\n            <AdvancedSearch show={showAdvancedSearch} changeHandler={changeAdvanced} />\r\n        </div>\r\n        <section className=\"book-nav\">\r\n            <label>Sort by</label>\r\n            <select onChange={handleSortChange}>\r\n                <option value=\"date_added\">Date added</option>\r\n                <option value=\"title\">Title</option>\r\n                <option value=\"author_surname\">Author name</option>\r\n                <option value=\"category\">category</option>\r\n            </select>\r\n            <select onChange={handleOrderChange}>\r\n                <option value=\"ASC\">Ascending</option>\r\n                <option value=\"DESC\">Descending</option>\r\n            </select>\r\n            <p>Showing <strong>{listLength}</strong> books. <a href=\"#\" onClick={showAll}>Show all</a>.</p>\r\n        </section>\r\n        <section className={isLoading ? 'loading' : 'hidden'}>\r\n            <Spinner />\r\n        </section>\r\n        <div className=\"books\">\r\n            {rows}\r\n        </div>\r\n        <div className=\"empty\" style={listLength === 0 ? {display: 'block'} : {display: 'none'}}>\r\n            <h2>No books found</h2>\r\n        </div>\r\n        <footer>\r\n            <p>A MultiSites Demo site. <a href=\"\">About</a> this project.</p>\r\n        </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Book.js",["68","69","70"],"import React from 'react';\r\nimport { useSpring, animated } from 'react-spring';\r\nimport { useCookies } from 'react-cookie';\r\n\r\n\r\n\r\nconst Book = (props) => {\r\n    \r\n    const [added, setAdded] = React.useState(false);\r\n    const [cookie, setCookie] = useCookies(['ids']);\r\n    const limit = 100;\r\n    const truncatedDescription = props.book.description.substr(0, limit);\r\n    const spring = useSpring({transform: 'scale(1)', from: {transform: 'scale(0)'}});\r\n    \r\n    function handleClick(bid) {\r\n        setAdded(added => !added);\r\n        const carray = [];\r\n        if(cookie.length > 0) {\r\n            carray = cookie.split(',');\r\n        } \r\n        carray.push(bid);\r\n        setCookie('ids', carray.toString(), {path: '/'});\r\n    }\r\n    \r\n    return (\r\n        <div className=\"book\">\r\n            <animated.div style={spring}>\r\n                \r\n                <img src={props.book.cover_art !== '' ? 'http://mytinylibrary.org.za/images/covers/' + props.book.cover_art : './images/book.svg'} alt={props.book.title + ' by ' + props.book.author_firstname + ' ' + props.book.author_surname} />\r\n                <h2>{props.book.title}</h2>\r\n                <h3>{props.book.author_firstname} {props.book.author_surname}</h3>\r\n                <p className=\"pull\">{props.book.category}</p>\r\n                <p>{truncatedDescription}...</p>\r\n                <button onClick={props.openHandler}>View book</button>\r\n            </animated.div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Book;","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Pagination.js",["71","72"],"C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Wishlist.js",["73","74"],"import React from 'react';\r\nimport { getBookById } from '../api/get';\r\n\r\n\r\nconst Wishlist = (props) => {\r\n    \r\n    const [books, setBooks] = React.useState([]);\r\n    React.useEffect(() => {\r\n        if (props.list.length > 0) {\r\n            props.list.map((b, i) => {\r\n                getBookById(b).then((book) => {\r\n                     setBooks(prevState => [...prevState, book]);\r\n                });\r\n            }) \r\n        }\r\n    }, [props.list]);\r\n    var list = [];\r\n    if (books.length > 0) {\r\n        list = books[0].map((book, i) => {\r\n            return (\r\n                <section key={i}>\r\n                    <p>{book.title}</p>\r\n                    <p>{book.author_firstname} {book.author_surname}</p>\r\n                    <span className=\"delete\"><img src=\"./images/delete.svg\" width=\"20\" /></span>\r\n                </section>\r\n            )\r\n        });\r\n    }\r\n    if (books.length > 0) {\r\n        if (props.show) {\r\n            return (\r\n                <div className=\"wishlist\">\r\n                    {list}\r\n                </div>\r\n            )\r\n        } else {\r\n            return <div></div>;\r\n        }\r\n    } else {\r\n        if (props.show) {\r\n            return <div className=\"wishlist\"><section><p>Your wishlist is empty</p></section></div>;\r\n        } else {\r\n            return <div></div>\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nexport default Wishlist;","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Star.js",["75","76"],"\r\n\r\nconst Star = (props) => {\r\n    \r\n    if (props.on) {\r\n        return <i className=\"star\" onClick={props.clickHandler}><img src=\"./images/star-on.svg\" width=\"30\" /></i>\r\n    } else {\r\n        return <i className=\"star\" onClick={props.clickHandler}><img src=\"./images/star-off.svg\" width=\"30\" /></i>\r\n    }\r\n}\r\n\r\nexport default Star;","C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\AdvancedSearch.js",[],"C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Modal.js",["77","78"],"import React from 'react';\r\nimport { getBookById } from '../api/get';\r\nimport Spinner from './Spinner';\r\n\r\nconst Modal = (props) => {\r\n\r\n    const [book, setBook] = React.useState([]);\r\n    const [isLoading, setLoading] = React.useState(false);\r\n    \r\n    const wh = document.body.offsetHeight;\r\n    var cScroll = window.scrollY;\r\n    React.useEffect(() => {\r\n        if (props.bookId !== '') {\r\n            setLoading(true);\r\n            getBookById(props.bookId).then((book) => {\r\n                setBook(book[0]);\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }, [props.bookId]);\r\n    \r\n    if (props.show) {\r\n        if (!isLoading) {\r\n            return(\r\n                <div className=\"overlay\" style={{height: wh + 'px'}}>\r\n                    <div className=\"modal\" style={{top: cScroll + 'px'}}>\r\n                        <span className=\"modal-close\" onClick={props.closeHandler}><img src=\"./images/close.svg\" width=\"18\" /></span>\r\n                        <article>\r\n                            <section>\r\n                                <img src={book.cover_art !== '' ? './images/covers/' + book.cover_art : './images/book.svg'} />\r\n                            </section>\r\n                            <section>\r\n                                <h2>{book.title}</h2>\r\n                                <h3>{book.subtitle}</h3>\r\n                                <h5>{book.author_firstname} {book.author_middlename} {book.author_surname}</h5>\r\n                                <p><span className={book.editor !== '' ? '' : 'hidden'}>Editor: {book.editor}</span>\r\n                                    <span className={book.translator !== '' ? '' : 'hidden'}>Translator: {book.translator}</span>\r\n                                    Category: {book.category}<br />\r\n                                    Publisher: {book.publisher}<br />\r\n                                    Published: {book.publish_date}, {book.book_type}<br />\r\n                                    Pages: {book.pages}<br />\r\n                                    ISBN: {book.isbn}\r\n                                </p>\r\n                                <p className=\"description\">{book.description}</p>\r\n                                <p className=\"tags\">{book.tags}</p>\r\n                            </section>\r\n                        </article>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"overlay\" style={{height: wh + 'px'}}>\r\n                    <div className=\"modal\" style={{top: cScroll + 'px'}}>\r\n                        <Spinner />\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    } else {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Modal;",["79","80"],"C:\\xampp\\htdocs\\sites\\mytinyreactlibrary\\src\\components\\Spinner.js",["81"],"import React from 'react';\r\n\r\nconst Spinner = () => {\r\n    \r\n    React.useEffect(() => {\r\n        var spinner = document.getElementById('Spinner');\r\n        var i = 0;\r\n        var t = setInterval(function() {\r\n            var s = spinner.getElementsByTagName('span')[i];\r\n            var p = i > 0 ? i - 1 : 3;\r\n            var pr = spinner.getElementsByTagName('span')[p];\r\n            s.style.transform = 'scale(1.2, 1.2)';\r\n            pr.style.transform = 'scale(1, 1)';\r\n            if (i < 3) {\r\n             i++;   \r\n            } else {\r\n                i = 0;\r\n            }\r\n        }, 300);\r\n    });\r\n    \r\n    return (\r\n        <div className=\"spinner\" id=\"Spinner\">\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spinner;",["82","83"],{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","replacedBy":"87"},{"ruleId":"84","replacedBy":"88"},{"ruleId":"86","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":5,"column":20,"nodeType":"92","messageId":"93","endLine":5,"endColumn":31},{"ruleId":"90","severity":1,"message":"94","line":18,"column":12,"nodeType":"92","messageId":"93","endLine":18,"endColumn":24},{"ruleId":"95","severity":1,"message":"96","line":64,"column":38,"nodeType":"97","messageId":"98","endLine":64,"endColumn":40},{"ruleId":"90","severity":1,"message":"99","line":78,"column":14,"nodeType":"92","messageId":"93","endLine":78,"endColumn":30},{"ruleId":"100","severity":1,"message":"101","line":117,"column":9,"nodeType":"102","messageId":"103","endLine":127,"endColumn":10},{"ruleId":"104","severity":1,"message":"105","line":145,"column":16,"nodeType":"106","endLine":145,"endColumn":58},{"ruleId":"104","severity":1,"message":"105","line":160,"column":61,"nodeType":"106","endLine":160,"endColumn":91},{"ruleId":"104","severity":1,"message":"105","line":172,"column":40,"nodeType":"106","endLine":172,"endColumn":51},{"ruleId":"90","severity":1,"message":"107","line":9,"column":12,"nodeType":"92","messageId":"93","endLine":9,"endColumn":17},{"ruleId":"90","severity":1,"message":"108","line":15,"column":14,"nodeType":"92","messageId":"93","endLine":15,"endColumn":25},{"ruleId":"109","severity":1,"message":"110","line":19,"column":13,"nodeType":"92","messageId":"111","endLine":19,"endColumn":19},{"ruleId":"112","severity":1,"message":"113","line":6,"column":36,"nodeType":"106","endLine":6,"endColumn":79},{"ruleId":"112","severity":1,"message":"113","line":8,"column":36,"nodeType":"106","endLine":8,"endColumn":79},{"ruleId":"95","severity":1,"message":"114","line":10,"column":35,"nodeType":"97","messageId":"115","endLine":10,"endColumn":37},{"ruleId":"112","severity":1,"message":"113","line":24,"column":46,"nodeType":"106","endLine":24,"endColumn":90},{"ruleId":"112","severity":1,"message":"113","line":6,"column":65,"nodeType":"106","endLine":6,"endColumn":110},{"ruleId":"112","severity":1,"message":"113","line":8,"column":65,"nodeType":"106","endLine":8,"endColumn":111},{"ruleId":"112","severity":1,"message":"113","line":27,"column":84,"nodeType":"106","endLine":27,"endColumn":127},{"ruleId":"112","severity":1,"message":"113","line":30,"column":33,"nodeType":"106","endLine":30,"endColumn":128},{"ruleId":"84","replacedBy":"116"},{"ruleId":"86","replacedBy":"117"},{"ruleId":"90","severity":1,"message":"118","line":8,"column":13,"nodeType":"92","messageId":"93","endLine":8,"endColumn":14},{"ruleId":"84","replacedBy":"119"},{"ruleId":"86","replacedBy":"120"},"no-native-reassign",["121"],"no-negated-in-lhs",["122"],["121"],["122"],"no-unused-vars","'searchBooks' is defined but never used.","Identifier","unusedVar","'showWishlist' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'showHideWishlist' is defined but never used.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'added' is assigned a value but never used.","'handleClick' is defined but never used.","no-const-assign","'carray' is constant.","const","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","Array.prototype.map() expects a return value from arrow function.","expectedInside",["121"],["122"],"'t' is assigned a value but never used.",["121"],["122"],"no-global-assign","no-unsafe-negation"]